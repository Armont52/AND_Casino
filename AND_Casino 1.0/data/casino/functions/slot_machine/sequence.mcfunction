#중단
execute as @e[type=minecraft:glow_item_frame,tag=reel3,limit=1] at @s if entity @a[tag=slot_player,distance=10..] run scoreboard players set @a[tag=slot_player,distance=10..] AND_Slot_Machine_Selector -1
execute as @a[scores={AND_Slot_Machine_Selector=-1}] run tellraw @s ["",{"text":"\n\n\n\n\n\n\n\n\n\n\n"},{"text":"                                Slot Machine                                ","underlined":true},{"text":"\n\n                             \n\n                          Thank you for playing.\n"},{"text":"                      \uc774\uc6a9\ud574 \uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4","bold":true},{"text":".\n\n\n"},{"text":"                                                                               ","underlined":true},{"text":"\n "}]
execute as @a[scores={AND_Slot_Machine_Selector=-1}] run tag @a remove slot_player
execute as @a[scores={AND_Slot_Machine_Selector=-1}] run scoreboard players set is_playing AND_Slot_Machine -2
execute as @a[scores={AND_Slot_Machine_Selector=-1}] run scoreboard players set @a AND_Slot_Machine_Selector 0

#플레이 버튼
execute as @a[scores={AND_Slot_Machine_Selector=1}] if entity @a[tag=slot_player] run tellraw @s ["",{"text":"\n\n\n\n\n\n\n\n\n\n\n"},{"text":"                                Slot Machine                                ","underlined":true},{"text":"\n\n                             \n\n                         Slot machine is occupied\n"},{"text":"                      \uc0ac\uc6a9 \uc911\uc778 \uc2ac\ub86f\uba38\uc2e0\uc785\ub2c8\ub2e4","bold":true},{"text":".\n\n\n"},{"text":"                                                                               ","underlined":true},{"text":"\n "}]
execute as @a[scores={AND_Slot_Machine_Selector=1}] unless entity @a[tag=slot_player] if score is_playing AND_Slot_Machine matches -2 run tag @s add slot_player
execute as @a[scores={AND_Slot_Machine_Selector=1}] if score is_playing AND_Slot_Machine matches -2 run scoreboard players set is_playing AND_Slot_Machine 0

#잔고 확인
execute as @a[tag=slot_player] if score is_playing AND_Slot_Machine matches -1..1 run function casino:bet/invencheck

#베팅
execute if score is_playing AND_Slot_Machine matches -1..0 as @a[tag=slot_player] if score bet AND_Slot_Machine <= @s chips if score bet AND_Slot_Machine matches 1.. run tellraw @s ["",{"text":"\n\n\n\n\n\n\n\n\n\n\n"},{"text":"                                Slot Machine                                ","underlined":true},{"text":"\n\n                              "},{"text":"Player: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"selector":"@s","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n            "},{"text":"Your Casino Balance: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"@s","objective":"chips"},"color":"yellow","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col","color":"green","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n                "},{"text":"Your Current Bet: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"bet","objective":"AND_Slot_Machine"},"color":"yellow","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col","color":"green","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n\n          "},{"text":"[","color":"gold"},{"text":"Bet 10Col","color":"gold","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 2"},"hoverEvent":{"action":"show_text","contents":["",{"text":"10","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"] ","color":"gold"},{"text":"[","color":"yellow"},{"text":"Bet 50Col","color":"yellow","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 3"},"hoverEvent":{"action":"show_text","contents":["",{"text":"50","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"yellow"},{"text":" [","color":"green"},{"text":"Bet 100Col","color":"green","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 4"},"hoverEvent":{"action":"show_text","contents":["",{"text":"100","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"] ","color":"green"},{"text":"[","color":"red"},{"text":"End Game","color":"red","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set -1"},"hoverEvent":{"action":"show_text","contents":["",{"text":"\uac8c\uc784\uc744 ","bold":true},{"text":"\uc885\ub8cc","bold":true,"color":"red"},{"text":"\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"red"},{"text":"\n"},{"text":"                                                                               ","underlined":true},{"text":"\n "}]
execute if score is_playing AND_Slot_Machine matches -1..0 as @a[tag=slot_player] if score bet AND_Slot_Machine <= @s chips if score bet AND_Slot_Machine matches 0 run tellraw @s ["",{"text":"\n\n\n\n\n\n\n\n\n\n\n"},{"text":"                                Slot Machine                                ","underlined":true},{"text":"\n\n                              "},{"text":"Player: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"selector":"@s","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n            "},{"text":"Your Casino Balance: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"@s","objective":"chips"},"color":"yellow","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col","color":"green","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n                "},{"text":"Your Current Bet: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"bet","objective":"AND_Slot_Machine"},"color":"gray","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col ","color":"gray","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"(","color":"red"},{"text":"Please bet","color":"red","hoverEvent":{"action":"show_text","contents":["",{"text":"\ubca0\ud305 \uae08\uc561","bold":true,"color":"red"},{"text":"\uc744 \uc120\ud0dd\ud574\uc8fc\uc2ed\uc2dc\uc624","bold":true},{"text":"."}]}},{"text":")","bold":true,"color":"red","hoverEvent":{"action":"show_text","contents":["",{"text":"\ubca0\ud305 \uae08\uc561","bold":true,"color":"red"},{"text":"\uc744 \uc120\ud0dd\ud574\uc8fc\uc2ed\uc2dc\uc624","bold":true},{"text":"."}]}},{"text":"\n\n          "},{"text":"[","color":"gold"},{"text":"Bet 10Col","color":"gold","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 2"},"hoverEvent":{"action":"show_text","contents":["",{"text":"10","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"gold"},{"text":" [","color":"yellow"},{"text":"Bet 50Col","color":"yellow","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 3"},"hoverEvent":{"action":"show_text","contents":["",{"text":"50","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"yellow"},{"text":" [","color":"green"},{"text":"Bet 100Col","color":"green","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 4"},"hoverEvent":{"action":"show_text","contents":["",{"text":"100","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"] ","color":"green"},{"text":"[","color":"red"},{"text":"End Game","color":"red","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set -1"},"hoverEvent":{"action":"show_text","contents":["",{"text":"\uac8c\uc784\uc744 ","bold":true},{"text":"\uc885\ub8cc","bold":true,"color":"red"},{"text":"\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"red"},{"text":"\n"},{"text":"                                                                               ","underlined":true},{"text":"\n "}]
execute if score is_playing AND_Slot_Machine matches -1..0 as @a[tag=slot_player] if score bet AND_Slot_Machine > @s chips run tellraw @s ["",{"text":"\n\n\n\n\n\n\n\n\n\n\n"},{"text":"                                Slot Machine                                ","underlined":true},{"text":"\n\n                              "},{"text":"Player: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"selector":"@s","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub098\uc758 \uc815\ubcf4\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n            "},{"text":"Your Casino Balance: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"@s","objective":"chips"},"color":"yellow","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col","color":"green","hoverEvent":{"action":"show_text","contents":["",{"text":"\ub0b4\uac00 \uc18c\uc720\ud55c \uce74\uc9c0\ub178 \uce69\uc758 \uac00\uce58\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n                "},{"text":"Your Current Bet: ","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"score":{"name":"bet","objective":"AND_Slot_Machine"},"color":"gray","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"Col ","color":"gray","hoverEvent":{"action":"show_text","contents":["",{"text":"\ud604\uc7ac ","bold":true},{"text":"\uc2ac\ub86f\uba38\uc2e0","bold":true,"color":"aqua"},{"text":" 1","color":"red"},{"text":"\ud68c","bold":true,"color":"red"},{"text":" \ud50c\ub808\uc774\uc5d0 ","bold":true},{"text":"\ubca0\ud305\ud55c \uae08\uc561","bold":true,"color":"yellow"},{"text":"\uc785\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"(","color":"red"},{"text":"Insufficient Balance","color":"red","hoverEvent":{"action":"show_text","contents":["",{"text":"\uc794\uc561","bold":true,"color":"yellow"},{"text":"\uc774 ","bold":true},{"text":"\ubd80\uc871","bold":true,"color":"red"},{"text":"\ud558\uc5ec ","bold":true},{"text":"\ubca0\ud305\uc774 \ubd88\uac00","bold":true,"color":"red"},{"text":"\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":")","bold":true,"color":"red","hoverEvent":{"action":"show_text","contents":["",{"text":"\uc794\uc561","bold":true,"color":"yellow"},{"text":"\uc774 ","bold":true},{"text":"\ubd80\uc871","bold":true,"color":"red"},{"text":"\ud558\uc5ec ","bold":true},{"text":"\ubca0\ud305\uc774 \ubd88\uac00","bold":true,"color":"red"},{"text":"\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"\n\n          "},{"text":"[","color":"gold"},{"text":"Bet 10Col","color":"gold","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 2"},"hoverEvent":{"action":"show_text","contents":["",{"text":"10","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"gold"},{"text":" [","color":"yellow"},{"text":"Bet 50Col","color":"yellow","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 3"},"hoverEvent":{"action":"show_text","contents":["",{"text":"50","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"yellow"},{"text":" [","color":"green"},{"text":"Bet 100Col","color":"green","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set 4"},"hoverEvent":{"action":"show_text","contents":["",{"text":"100","color":"yellow"},{"text":"Col","color":"green"},{"text":"\uc744 \ubca0\ud305\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"] ","color":"green"},{"text":"[","color":"red"},{"text":"End Game","color":"red","clickEvent":{"action":"run_command","value":"/trigger AND_Slot_Machine_Selector set -1"},"hoverEvent":{"action":"show_text","contents":["",{"text":"\uac8c\uc784\uc744 ","bold":true},{"text":"\uc885\ub8cc","bold":true,"color":"red"},{"text":"\ud569\ub2c8\ub2e4","bold":true},{"text":"."}]}},{"text":"]","color":"red"},{"text":"\n"},{"text":"                                                                               ","underlined":true},{"text":"\n "}]
execute as @a[scores={AND_Slot_Machine_Selector=2}] run scoreboard players set bet AND_Slot_Machine 10
execute as @a[scores={AND_Slot_Machine_Selector=3}] run scoreboard players set bet AND_Slot_Machine 50
execute as @a[scores={AND_Slot_Machine_Selector=4}] run scoreboard players set bet AND_Slot_Machine 100

#레버 가동
execute as @e[type=minecraft:glow_item_frame,tag=reel3,limit=1] at @s if score is_playing AND_Slot_Machine matches 0 if score bet AND_Slot_Machine > @p[tag=slot_player] chips run scoreboard players set is_playing AND_Slot_Machine -1
execute as @e[type=minecraft:glow_item_frame,tag=reel3,limit=1] at @s if score is_playing AND_Slot_Machine matches 0 if score bet AND_Slot_Machine matches 0 run scoreboard players set is_playing AND_Slot_Machine -1
execute as @e[type=minecraft:glow_item_frame,tag=reel3,limit=1] at @s if score is_playing AND_Slot_Machine matches -1 if block ~-1 ~ ~1 minecraft:lever[face=wall,facing=west,powered=false] if score bet AND_Slot_Machine <= @p[tag=slot_player] chips if score bet AND_Slot_Machine matches 1.. run scoreboard players set is_playing AND_Slot_Machine 0
execute as @e[type=minecraft:glow_item_frame,tag=reel3,limit=1] at @s if score is_playing AND_Slot_Machine matches 0 if block ~-1 ~ ~1 minecraft:lever[face=wall,facing=west,powered=true] if score bet AND_Slot_Machine <= @p[tag=slot_player] chips if score bet AND_Slot_Machine matches 1.. run scoreboard players set is_playing AND_Slot_Machine 1

#셀렉터 리셋
scoreboard players reset @a[scores={AND_Slot_Machine_Selector=1..}] AND_Slot_Machine_Selector